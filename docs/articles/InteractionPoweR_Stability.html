<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This article describes how to use the run_pos_power_search() function in InteractionPoweR">
<title>InteractionPoweR Stability Update • InteractionPoweR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="InteractionPoweR Stability Update">
<meta property="og:description" content="This article describes how to use the run_pos_power_search() function in InteractionPoweR">
<meta property="og:image" content="https://dbaranger.github.io/InteractionPoweR/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@David_Baranger">
<meta name="twitter:site" content="@David_Baranger">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-36JVDTC1K0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-36JVDTC1K0');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">InteractionPoweR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/InteractionPoweRvignette.html">The InteractionPoweR Package</a>
    <a class="dropdown-item" href="../articles/InteractionPower2waycovsvignette.html">Interaction Power: Power analyses for 2-way interactions with covariates</a>
    <a class="dropdown-item" href="../articles/InteractionPoweR3wayvignette.html">Interaction Power: Power analyses for 3-way interactions</a>
    <a class="dropdown-item" href="../articles/InteractionPoweR_Stability.html">InteractionPoweR Stability Update</a>
    <a class="dropdown-item" href="../articles/CommonQuestions.html">Questions &amp; Errors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dbaranger/InteractionPoweR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>InteractionPoweR Stability Update</h1>
                        <h4 data-toc-skip class="author">David AA.
Baranger, Andrew J. Castillo</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbaranger/InteractionPoweR/blob/HEAD/vignettes/articles/InteractionPoweR_Stability.Rmd" class="external-link"><code>vignettes/articles/InteractionPoweR_Stability.Rmd</code></a></small>
      <div class="d-none name"><code>InteractionPoweR_Stability.Rmd</code></div>
    </div>

    
    
<p>In addition to standard power estimation, InteractionPoweR provides
an option to evaluate the precision of interaction estimates through the
function run_pos_power_search(). This function performs a
simulation-based search to identify the minimum sample size at which
estimates of an interaction term become sufficiently stable, as defined
by a user-specified proportion of estimates falling within a specified
range (the “corridor of stability,” or COS) around the expected
population value. This vignette describes how to use the
run_pos_power_search() for two-way interactions.</p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Standard power analysis tells us whether we are likely to detect an
effect, but it does not provide easily accessible benchmarks for how
reflective the sample estimate will be of the true effect across
repeated samples. There is a high risk for small interaction effects to
be highly variable estimates across samples. Stability analysis
addresses this issue by asking a different question:</p>
<p>“At what sample size can we trust that the estimate will consistently
approximate the true interaction effect?”</p>
<p>Stability is operationalized using two key concepts: <strong>Corridor
of Stability (COS):</strong> A symmetric interval around the expected
interaction effect. Estimates falling inside the COS are regarded as
stable. <strong>Point of Stability (POS):</strong> The sample size at
which a desired proportion of estimates (e.g., 80%, 90%, or 95%) fall
within the COS.</p>
<p>By identifying the POS, researchers can plan not just for detection
of an effect, but for accurate, reliable estimation.</p>
<p>This vignette describes how to use run_pos_power_search() to evaluate
the stability of two-way interaction terms of the form:</p>
<p><span class="math display">\[
Y \sim \beta_0 + X_1\beta_1 + X_2\beta_2 + (X_1X_2)\beta_3 + \epsilon
\]</span></p>
<p>where <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span> are independent variables, and <span class="math inline">\(X_1X_2\)</span> represents their interaction.</p>
</div>
<div class="section level2">
<h2 id="stability-criteria">Stability Criteria<a class="anchor" aria-label="anchor" href="#stability-criteria"></a>
</h2>
<p>The COS and POS are defined as follows:</p>
<p><span class="math inline">\(cos.width\)</span>: the width of the
Corridor of Stability (COS), expressed as a proportion of the expected
population interaction effect size (<span class="math inline">\(r_{x1x2,y}\)</span>). For example,
<code>cos.width</code> = 0.5 means the COS spans <span class="math inline">\(\pm 50\%\)</span> of the expected effect.</p>
<p><span class="math inline">\(pos.percent\)</span>: the minimum
proportion of simulated estimates required to fall within the COS for a
sample size to be considered stable. Typical choices are 0.80, 0.90, or
0.95.</p>
</div>
<div class="section level2">
<h2 id="key-parameters">Key Parameters<a class="anchor" aria-label="anchor" href="#key-parameters"></a>
</h2>
<p>Use of the run_pos_power_search() function requires at minimum 5
input variables:</p>
<ol style="list-style-type: decimal">
<li>
<code>r.x1.y</code>: the Pearson’s correlation (<span class="math inline">\(r\)</span>) between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(Y\)</span>
</li>
<li>
<code>r.x2.y</code>: the Pearson’s correlation (<span class="math inline">\(r\)</span>) between <span class="math inline">\(X_2\)</span> and <span class="math inline">\(Y\)</span>
</li>
<li>
<code>r.x1.x2</code>: the Pearson’s correlation (<span class="math inline">\(r\)</span>) between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_2\)</span>
</li>
<li>
<code>rel.x1</code>: Reliability of x1 (e.g. test-retest
reliability, ICC, Cronbach’s alpha).</li>
<li>
<code>rel.x2</code>: Reliability of x2 (e.g. test-retest
reliability, ICC, Cronbach’s alpha).</li>
</ol>
<p>There are multiple optional inputs which will change the output of
the function to perform specific tasks, depending on the goal of the
user.</p>
<ol style="list-style-type: decimal">
<li>
<code>r.x1x2.y</code>: the Pearson’s correlation (<span class="math inline">\(r\)</span>) between <span class="math inline">\(X_1X_2\)</span> and <span class="math inline">\(Y\)</span> - this is the interaction effect.</li>
<li>
<code>rel.y</code>: reliability of xy (e.g. test-retest reliability,
ICC, Cronbach’s alpha).</li>
<li>
<code>single.N</code> a single sample size at which the stability of
the estimate is calculated.</li>
<li>
<code>step</code>: the amount of rounding applied during the search
for the sample size estimate of the POS.</li>
<li>
<code>start.power</code>: the statistical power which is used to
determine the starting sample size during the search for the POS.</li>
<li>
<code>n.datasets</code> the number of simulations conducted at each
sample size identified by the search process.</li>
<li>
<code>lower.bound</code> the smallest sample size the search will
progress to if a POS is not located.</li>
<li>
<code>upper.bound</code> the largest sample size the search will
progress to if a POS is not located.</li>
<li>
<code>cos.width</code> the width of the corridor of stability
(COS)</li>
<li>
<code>pos.percent</code> the percentage of estimates required to
fall within the COS to qualify estimates as stable</li>
<li>
<code>n.cores</code> optional parallel processing.</li>
</ol>
</div>
<div class="section level2">
<h2 id="use-cases">Use Cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h2>
<p>There are two main use cases: <em>Evaluating stability at a specific
sample size (single.N)</em> The function returns the percentage of
estimates falling inside the COS, the sign error rate, the necessary
effect size for stability, and associated power.</p>
<p><em>Searching for the minimum stable sample size (POS)</em> If
single.N is NULL, the function conducts a binary search to find the
smallest sample size satisfying the stability criterion.</p>
<p>Internally, the function simulates multiple datasets at each tested
sample size, fits the interaction model, and assesses whether the
estimated <span class="math inline">\(\beta_3\)</span> falls inside the
COS.</p>
</div>
<div class="section level2">
<h2 id="interpreting-the-results">Interpreting the Results<a class="anchor" aria-label="anchor" href="#interpreting-the-results"></a>
</h2>
<p>The output from run_pos_power_search() is structured to help
researchers assess both the precision and sign consistency of
interaction estimates:</p>
<p><code>COS_interval</code>: The range around the expected interaction
effect defined by cos.width. If 80% or more estimates fall inside this
interval, the sample size is considered to produce stable estimates.</p>
<p><code>within_COS_interval</code>: the proportion of estimates within
the inputted COS at the sample size single.N.</p>
<p><code>POS_determined_COS</code>: The COS width needed to enclose the
specified proportion (pos.percent) of estimates given an input for
single.N.</p>
<p><code>within_POS_determined_COS</code>: the percentage of estimates
within the COS at this sample size. As it was user specified, it is the
same as pos.percent.</p>
<p><code>POS_determined_COS.percent</code>: the percentage of deviation
from the expected effect reflected in
<code>POS_determined_COS</code>.</p>
<p><code>r.x1x2.y_to_be_stable_at_single.N</code>: The minimum
interaction effect size that would need to exist to achieve the desired
stability at a given sample size.</p>
<p><code>sign_error_rate</code>: Proportion of estimates whose sign
differs from the expected sign. High sign error rate indicates
instability, even if power is adequate.</p>
<p><code>power</code>: The statistical power to detect the interaction
effect at this sample size.</p>
<p><code>power_to_be_stable</code>: The power that would be required to
meet stability criteria under current parameters.</p>
<p>In general:</p>
<p>If <code>within_COS_interval</code> is low and
<code>sign_error_rate</code> is high, the estimate is unreliable at the
given sample size.</p>
<p>If the <code>r.x1x2.y_to_be_stable_at_single.N</code> is much larger
than the input effect, the chosen <code>single.N</code> is insufficient
for stable estimation.</p>
<p>The lower the <code>POS_samplesize</code>, the more replicable the
interaction estimate is likely to be as the signal is stronger and/or
the noise obscuring that signal is weaker.</p>
</div>
<div class="section level2">
<h2 id="when-to-modify-each-parameter">When to Modify Each Parameter<a class="anchor" aria-label="anchor" href="#when-to-modify-each-parameter"></a>
</h2>
<p>Below are common parameters used in
<code><a href="../reference/run_pos_power_search.html">run_pos_power_search()</a></code> and guidance on when to change
them.</p>
<ul>
<li><p><code>r.x1.y</code>, <code>r.x2.y</code>: Correlations of X1 and
X2 with Y.<br><em>Use when you have prior estimates or pilot data. These are
required.</em></p></li>
<li><p><code>r.x1.x2</code>: Correlation between predictors X1 and
X2.<br><em>Adjust to reflect multicollinearity. High values increase required
sample size.</em></p></li>
<li><p><code>rel.x1</code>, <code>rel.x2</code>: Reliability of
predictors.<br><em>Use test-retest or internal consistency estimates (e.g., Cronbach’s
alpha). Required.</em></p></li>
<li><p><code>rel.y</code>: Reliability of the outcome variable.<br><em>Usually 1 for simulated data; lower values when modeling real
outcomes.</em></p></li>
<li><p><code>r.x1x2.y</code>: Correlation of the interaction term with
Y.<br><em>Use literature estimates or pilot data. If not provided, it is
imputed.</em></p></li>
<li><p><code>single.N</code>: Sample size to evaluate stability at a
fixed N.<br><em>Use when evaluating a specific study design or planning a
pilot.</em></p></li>
<li><p><code>start.power</code>: Desired starting power (e.g.,
0.80).<br><em>Used to find a power-equivalent sample size before stability
analysis.</em></p></li>
<li><p><code>step</code>: Rounding increment for the sample size
search.<br><em>Larger steps make the search faster but less precise.</em></p></li>
<li><p><code>n.datasets</code>: Number of simulations per step.<br><em>Use 1000+ for precise estimates; reduce for faster exploratory
runs.</em></p></li>
<li><p><code>lower.bound</code>, <code>upper.bound</code>: Range of
sample sizes to search.<br><em>Set to control search bounds manually, or let the function define
them.</em></p></li>
<li><p><code>cos.width</code>: Width of the Corridor of Stability.<br><em>Smaller values demand tighter estimates. Try 0.25, 0.5, or
1.0.</em></p></li>
<li><p><code>pos.percent</code>: Target proportion of estimates within
the COS.<br><em>Typically set to 0.8, 0.9, or 0.95 depending on tolerance for
estimate noise.</em></p></li>
<li><p><code>n.cores</code>: Number of parallel processing cores.<br><em>Use multiple cores to speed up simulation. E.g., 4 or
6.</em></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="example-evaluating-stability-at-n-100-">Example: Evaluating Stability at N = 100.<a class="anchor" aria-label="anchor" href="#example-evaluating-stability-at-n-100-"></a>
</h2>
<p>To demonstrate use, we evaluate stability at a sample size of N = 100
first.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dbaranger.github.io/InteractionPoweR/">InteractionPoweR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/run_pos_power_search.html">run_pos_power_search</a></span><span class="op">(</span></span>
<span>  r.x1.y <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  r.x2.y <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  r.x1x2.y <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  r.x1.x2 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  rel.x1 <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  rel.x2 <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  rel.y <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  single.N <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  n.datasets <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  cos.width <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pos.percent <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  n.cores <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   single.N rel.x1 rel.x2  rel.x1x2 rel.y r.x1x2.y r.x1.y r.x2.y r.x1.x2</span></span>
<span><span class="co">## 1      100    0.8    0.8 0.6435644     1     0.15    0.2    0.2     0.1</span></span>
<span><span class="co">##   obs.r.x1x2.y COS_pos.percents     COS_interval within_COS_interval</span></span>
<span><span class="co">## 1    0.1203337         (50, 80) [0.0602, 0.1805]               0.476</span></span>
<span><span class="co">##   POS_determined_COS within_POS_determined_COS POS_determined_COS.percent</span></span>
<span><span class="co">## 1   [-0.013, 0.2536]                       0.8                     110.77</span></span>
<span><span class="co">##   sign_error_rate     power r.x1x2.y_to_be_stable_at_single.N</span></span>
<span><span class="co">## 1           0.128 0.2273492                         0.2995293</span></span>
<span><span class="co">##   power_to_be_stable</span></span>
<span><span class="co">## 1           0.675739</span></span></code></pre>
<p>This output indicates that at N = 100, only ~47.3% of estimates fall
within the specified COS of 50% around the expected interaction effect
(0.1203, 0.15 before attenuation), suggesting the sample size is
insufficient for stable estimation. The COS required to achieve the
desired 80% stability rate spans a much wider range ([-0.007, 0.2477]).
The minimum effect size required for stability at N = 100 is 0.314 after
attenuation, over twice the observed interaction, and the associated
power needed for that level of stability is approximately 0.72. A sign
error rate of 11.9% is observed at this single.N (100).</p>
</div>
<div class="section level2">
<h2 id="interpreting-the-results-1">Interpreting the Results<a class="anchor" aria-label="anchor" href="#interpreting-the-results-1"></a>
</h2>
<p>The output from run_pos_power_search() is structured to help
researchers assess both the precision and sign consistency of
interaction estimates:</p>
<p><code>COS_interval</code>: The range around the expected interaction
effect defined by cos.width. If 80% or more estimates fall inside this
interval, the sample size is considered to produce stable estimates.</p>
<p><code>within_COS_interval</code>: the proportion of estimates within
the inputted COS at the sample size single.N.</p>
<p><code>POS_determined_COS</code>: the COS width required for
pos.percent of the estimates to be in the COS at the sample size
single.N. <code>within_POS_determined_COS</code>: the percentage of
estimates within the COS at this sample size. As it was user specified,
it is the same as pos.percent. <code>POS_determined_COS.percent</code>:
the percentage of deviation from the expected effect reflected in
<code>POS_determined_COS</code>. <code>sign_error_rate</code>: the
number of estimates signed incorrectly at the sample size single.N
(100). <code>power</code>: the statistical power to detect the
interaction effect at this sample size
<code>r.x1x2.y_to_be_stable_at_single.N</code>: the minimum interaction
effect size required for stability at the sample size single.N (100).
<code>power_to_be_stable</code>: the statistical power required for the
interaction, as inputted, to be stable.</p>
<p>#Interpreting the Results</p>
<p>The output from run_pos_power_search() is structured to help
researchers assess both the precision and sign consistency of
interaction estimates:</p>
<p>COS_interval: The range around the expected interaction effect
defined by cos.width. If 80% or more estimates fall inside this
interval, the estimate is considered stable.</p>
<p>within_COS_interval: Proportion of estimates falling within the
predefined COS.</p>
<p>sign_error_rate: Proportion of estimates whose sign differs from the
expected sign. High sign error rate indicates instability, even if power
is adequate.</p>
<p>POS_determined_COS: The COS width needed to enclose the specified
proportion (pos.percent) of estimates.</p>
<p>r.x1x2.y_to_be_stable_at_single.N: The minimum interaction effect
size that would need to exist to achieve the desired stability at a
given sample size.</p>
<p>power: Probability of detecting a non-zero interaction given current
inputs.</p>
<p>power_to_be_stable: The power that would be required to meet
stability criteria under current parameters.</p>
<p>In general:</p>
<p>If within_COS_interval is low and sign_error_rate is high, the
estimate is unreliable at the given sample size.</p>
<p>If the r.x1x2.y_to_be_stable_at_single.N is much larger than the
input effect, the chosen N is insufficient for stable estimation.</p>
<p>The lower the POS_samplesize, the more efficient the design—but only
if the reliability and correlations justify it.</p>
</div>
<div class="section level2">
<h2 id="example-finding-the-minimum-stable-sample-size-pos">Example: Finding the Minimum Stable Sample Size (POS)<a class="anchor" aria-label="anchor" href="#example-finding-the-minimum-stable-sample-size-pos"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_pos_power_search.html">run_pos_power_search</a></span><span class="op">(</span></span>
<span>  r.x1.y <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  r.x2.y <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  r.x1x2.y <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>  r.x1.x2 <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  rel.x1 <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  rel.x2 <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  rel.y <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  start.power <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>  n.datasets <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  cos.width <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pos.percent <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  n.cores <span class="op">=</span> <span class="fl">6</span></span>
<span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code><span><span class="co">##   rel.x1 rel.x2  rel.x1x2 rel.y r.x1x2.y r.x1.y r.x2.y r.x1.x2 obs.r.x1x2.y</span></span>
<span><span class="co">## 1    0.8    0.8 0.6435644     1     0.15    0.2    0.2     0.1    0.1203337</span></span>
<span><span class="co">##   COS_pos.percents     COS_interval POS_samplesize POS_power</span></span>
<span><span class="co">## 1         (50, 80) [0.0602, 0.1805]            421 0.7159145</span></span></code></pre>
<p>This run performs a binary search to find the smallest N at which 80%
of estimates fall within <span class="math inline">\(\pm 50\%\)</span>
of the expected interaction effect size.</p>
<p>This output shows that a sample size of approximately 435 is required
for 80% of the simulated estimates to fall within 50% of the expected
interaction effect (0.1203, 0.15 before attenuation). At this sample
size, the COS interval ranges from 0.0602 to 0.1805, and the power to
detect the interaction effect is approximately 0.73. This suggests that
while the interaction is small, it can be estimated with acceptable
stability at N = 435.</p>
</div>
<div class="section level2">
<h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h2>
<p>The function handles automatic assignment of <code>r.x1x2.y</code> if
not specified, using the average of the main effects (adjusted for
reliability)</p>
<p>Simulations can be conducted in parallel using <em>foreach</em> and
<em>doParallel</em></p>
<p>Results include estimated power, COS bounds, observed estimate
variability, and the stability threshold, and can change depending on
user input.</p>
<p>This function is particularly helpful for identifying realistic
sample size requirements not just for detection but for reliable
estimation, especially in the context of small or unreliable
effects.</p>
<p>Refer to our paper ([link]) for theoretical background and empirical
justification for stability-based approaches.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Baranger, Andrew Castillo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
