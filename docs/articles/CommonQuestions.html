<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="InteractionPoweR">
<title>Questions &amp; Errors • InteractionPoweR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Questions &amp; Errors">
<meta property="og:description" content="InteractionPoweR">
<meta property="og:image" content="https://dbaranger.github.io/InteractionPoweR/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@David_Baranger">
<meta name="twitter:site" content="@David_Baranger">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-36JVDTC1K0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-36JVDTC1K0');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">InteractionPoweR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/InteractionPoweRvignette.html">The InteractionPoweR Package</a>
    <a class="dropdown-item" href="../articles/InteractionPower2waycovsvignette.html">Interaction Power: Power analyses for 2-way interactions with covariates</a>
    <a class="dropdown-item" href="../articles/InteractionPoweR3wayvignette.html">Interaction Power: Power analyses for 3-way interactions</a>
    <a class="dropdown-item" href="../articles/CommonQuestions.html">Questions &amp; Errors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dbaranger/InteractionPoweR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Questions &amp; Errors</h1>
                        <h4 data-toc-skip class="author">David AA
Baranger</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbaranger/InteractionPoweR/blob/HEAD/vignettes/articles/CommonQuestions.Rmd" class="external-link"><code>vignettes/articles/CommonQuestions.Rmd</code></a></small>
      <div class="d-none name"><code>CommonQuestions.Rmd</code></div>
    </div>

    
    
<p>This is a non-exhaustive list of common questions and error
messages:</p>
<div class="section level3">
<h3 id="questions">Questions<a class="anchor" aria-label="anchor" href="#questions"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p>“Does this package currently support power analyses for 3-way
interactions?”</p>
<ul>
<li>Yes! See the new function <code><a href="../reference/power_interaction_3way_r2.html">power_interaction_3way_r2()</a></code>.
We do not plan on adding simulation-based power analyses for 3-way
interactions. Please get in touch if you have a research question that
needs that functionality.</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="error-messages">Error messages<a class="anchor" aria-label="anchor" href="#error-messages"></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<p>“All reliabilities must be greater than 0 and less than or equal
to 1”</p>
<ul>
<li>Reliability can’t be more than 1 (measurement variance attributable
to true signal can’t be more than 100%), and it can’t be less than or
equal to 0. If your reliability measure is less than 0, it is probably
spuriously low, and you should set reliability to something like
0.001.</li>
</ul>
</li>
<li>
<p>“All correlations must be within [-1,1]”</p>
<ul>
<li>The main input effect sizes are Pearson’s correlations, which range
from [-1,1]. If you see this error, check for typos in your input.</li>
</ul>
</li>
<li>
<p>“All correlations must be within [-1,1],.” or “No valid
settings”</p>
<ul>
<li>If <code>adjust.correlations = TRUE</code>, and a variable is binary
or ordinal, the algorithm will increase the correlations so that the
output correlations match the effects input by the user. This is
necessary because transforming normal variables to be binary or ordinal
reduces their correlations with the other variables. However, it can
happen that this is impossible, as it would require correlations greater
than |1|. If you encounter this error, reduce your your correlations
between variables. <code><a href="../reference/power_interaction.html">power_interaction()</a></code> automatically
removes these settings from the input.</li>
</ul>
</li>
<li>
<p>“Settings produce a negative y-variance” or “No valid
settings”</p>
<ul>
<li>It is possible to specify an impossible correlation matrix. This
error indicates that <span class="math inline">\(X_1\)</span>, <span class="math inline">\(X_2\)</span>, and <span class="math inline">\(X_1X_2\)</span> have settings that result in them
explaining more than 100% of the <span class="math inline">\(Y\)</span>
variance - obviously impossible. If you encounter this error, reduce
your correlations.</li>
</ul>
</li>
<li>
<p>“Correlation matrix is impossible - is not positive
semi-definite.”</p>
<ul>
<li>Another way that a correlation matrix can be “impossible”. This
error means that the smallest eigenvalue is negative. This error can be
caused when correlations are too large or when variables are
binary/ordinal and correlations are transformed. If you encounter this
error, reduce your correlations.</li>
</ul>
</li>
<li>
<p>Something else not covered…</p>
<ul>
<li>If you get a different confusing error, first check that your
packages are up to date. Most frequently this occurs with the
<a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a> and <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> packages, so make sure
those are updated first (i.e., re-install them).</li>
</ul>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="strange-results">Strange results<a class="anchor" aria-label="anchor" href="#strange-results"></a>
</h2>
<ol style="list-style-type: decimal">
<li>
<p><code><a href="../reference/power_estimate.html">power_estimate()</a></code> produces <code>NA</code>.</p>
<ul>
<li>
<p><code><a href="../reference/power_estimate.html">power_estimate()</a></code> fits a regression model to the
output of <code><a href="../reference/power_interaction.html">power_interaction()</a></code> to identify when a specified
power-level is reached. It will give a result of <code>NA</code> for
three related reasons:</p>
<ol style="list-style-type: decimal">
<li><p>The predicted value where power is reached is outside the range
of values tested by the simulation. Simply increase the range of values
tested.</p></li>
<li><p>The predicted value is within the range of values tested, but
only barely. For example, say <code>power_target = .8</code>, and one
simulation achieved a <code>pwr = 0.804</code>. Even though 0.804 was
achieved in one round of simulations, the regression analysis may
predict, based on the other values tested in the simulation, that an
even larger value is needed to achieve 80% power. The solution is again
to increase the range of values tested.</p></li>
<li><p>Power-curves taper-off as power increases, eventually flattening
out. <code><a href="../reference/power_estimate.html">power_estimate()</a></code> fits a threshold regression model
using the <a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-017-1863-x" class="external-link">chngpt</a>
package, to identify whether the power-curve has flattened, and to
remove the flattened portion if so. This is so that the main
<code><a href="../reference/power_estimate.html">power_estimate()</a></code> regression model will be more accurate.
However, occasionally the threshold regression model is greedy, and it
removes too much. This can happen particularly if the simulation only
includes a few values. The solution is again to increase the range of
values tested.</p></li>
</ol>
</li>
</ul>
</li>
<li>
<p>Results differ each time I run a simulation</p>
<ul>
<li>The examples in this package use <code>n.iter = 1000</code>
simulations, as this is enough to give a general sense of the pattern of
results. However, we recommend <code>n.iter = 10000</code> for more
stable results. <code><a href="../reference/power_estimate.html">power_estimate()</a></code> fits a regression model,
and as with any regression, the number of observations, as well as their
variance, impacts results. So, increasing the range and density of
parameters in the simulation will also improve the stability of results.
The <code>seed</code> parameter can also be set, so that identical
results are given each time. However, this is not recommended until
results have stabilized (by increasing <code>n.iter</code>). If
<code>seed</code> is set <code>n.iter = 50</code> will yield the same
results every time, but that doesn’t mean those results are
informative.</li>
</ul>
</li>
</ol>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by David Baranger.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
