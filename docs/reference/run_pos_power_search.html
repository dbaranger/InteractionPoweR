<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Calculate the point of stability for a two-way interaction estimate"><title>Calculate the point of stability for a two-way interaction estimate — run_pos_power_search • InteractionPoweR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate the point of stability for a two-way interaction estimate — run_pos_power_search"><meta property="og:description" content="Calculate the point of stability for a two-way interaction estimate"><meta property="og:image" content="https://dbaranger.github.io/InteractionPoweR/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@David_Baranger"><meta name="twitter:site" content="@David_Baranger"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-36JVDTC1K0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-36JVDTC1K0');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">InteractionPoweR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/InteractionPoweRvignette.html">The InteractionPoweR Package</a>
    <a class="dropdown-item" href="../articles/InteractionPower2waycovsvignette.html">Interaction Power: Power analyses for 2-way interactions with covariates</a>
    <a class="dropdown-item" href="../articles/InteractionPoweR3wayvignette.html">Interaction Power: Power analyses for 3-way interactions</a>
    <a class="dropdown-item" href="../articles/InteractionPoweR_Stability.html">InteractionPoweR Stability Update</a>
    <a class="dropdown-item" href="../articles/CommonQuestions.html">Questions &amp; Errors</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dbaranger/InteractionPoweR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate the point of stability for a two-way interaction estimate</h1>
      <small class="dont-index">Source: <a href="https://github.com/dbaranger/InteractionPoweR/blob/HEAD/R/run_pos_power_search.R" class="external-link"><code>R/run_pos_power_search.R</code></a></small>
      <div class="d-none name"><code>run_pos_power_search.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the point of stability for a two-way interaction estimate</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_pos_power_search</span><span class="op">(</span></span>
<span>  <span class="va">r.x1.y</span>,</span>
<span>  <span class="va">r.x2.y</span>,</span>
<span>  r.x1x2.y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">r.x1.x2</span>,</span>
<span>  <span class="va">rel.x1</span>,</span>
<span>  <span class="va">rel.x2</span>,</span>
<span>  rel.y <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  single.N <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start.power <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  step <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n.datasets <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  lower.bound <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  upper.bound <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cos.width <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  pos.percent <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  n.cores <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>r.x1.y</dt>
<dd><p>Pearson's correlation between x1 and y. Must be between -1 and 1. Has no default value.</p></dd>


<dt>r.x2.y</dt>
<dd><p>Pearson's correlation between x2 and y. Must be between -1 and 1. Assumed to be the 'moderator' in some functions. Has no default value.</p></dd>


<dt>r.x1x2.y</dt>
<dd><p>Pearson's correlation between the interaction term x1x2 (x1 * x2) and y. Must be between -1 and 1. If NULL or unspecified, it is automatically assigned as the average of the main effects divided by 2, considering reliability. The default value is NULL.</p></dd>


<dt>r.x1.x2</dt>
<dd><p>Pearson's correlation between x1 and x2. Must be between -1 and 1. Has no default value.</p></dd>


<dt>rel.x1</dt>
<dd><p>Reliability of x1 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p></dd>


<dt>rel.x2</dt>
<dd><p>Reliability of x2 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p></dd>


<dt>rel.y</dt>
<dd><p>Reliability of xy (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p></dd>


<dt>single.N</dt>
<dd><p>Numeric or NULL. A specific sample size at which the stability statistics (POS, COS) are computed. A numeric value overrides the search for a POS. Must be a whole number greater than 0 or NULL. Default is NULL.</p></dd>


<dt>start.power</dt>
<dd><p>Numeric or NULL. Determines the starting sample size of the search by locating the sample size with power equal to start.power. If it is non-null, it must be greater than 0 and less than 1. Note that a non-null start.power overrides user inputs for the parameters lower.bound and upper.bound so both are NULL. The default is 0.8.</p></dd>


<dt>step</dt>
<dd><p>Numeric or NULL. Determines the rounding (degree of precision) in the estimate of the POS. When set to NULL, dynamic adjustments are made with 1/100th the of the interval between the upper.bound and lower.bound on each iteration of the search algorithm. If it is non-null, it must be a whole natural number. Default is NULL.</p></dd>


<dt>n.datasets</dt>
<dd><p>Numeric. Number of simulations conducted at each sample size identified by the search process. Larger values result in greater computational demands. Default is 10000. Must be greater than 1.</p></dd>


<dt>lower.bound</dt>
<dd><p>Numeric or NULL. The lower bound for the search. It is automatically assigned when set to NULL The user can manually input one. There is an automatic override to NULL if start.power is non-null. The default is NULL.</p></dd>


<dt>upper.bound</dt>
<dd><p>Numeric or NULL. The upper bound for the search. If it is null, an upper bound is determined automatically; there is a ceiling of 1e7. Default is NULL.</p></dd>


<dt>cos.width</dt>
<dd><p>Numeric. The width of the corridor of stability COS within which we require some number of estimates to fall to identify the POS. Must be greater than 0. Values above 1 are unlikely to be informative. Default is 0.5.</p></dd>


<dt>pos.percent</dt>
<dd><p>Numeric. The minimum proportion of simulated estimates we require to fall inside the COS to consider the sample size to produce stable estimates. Default is 0.8.</p></dd>


<dt>n.cores</dt>
<dd><p>Numeric. Number of cores to be used in parallel processing. Default is 1.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A data frame containing the variables 'rel.x1', 'rel.x2', 'rel.x1x2', 'rel.y', 'r.x1x2.y', 'r.x1.y', 'r.x2.y', 'obs.r.x1x2.y', 'COS_pos.percents', 'COS_interval', 'POS_samplesize', and 'POS_power'
OR a data frame containing the variables 'single.N', 'rel.x1', 'rel.x2', 'rel.x1x2', 'rel.y', 'r.x1x2.y', 'r.x1.y', 'r.x2.y', 'obs.r.x1x2.y', 'COS_pos.percents', 'within_COS_interval', 'POS_determined_COS', 'within_POS_determined_COS', 'POS_determined_COS.percent', sign_error_rate', and 'power'
If the user inputs single.N as NULL, the first dataframe is returned with the search results for the POS.
If the user inputs single.N as a numeric whole number greater than 3, the second dataframe is returned with stability information at that specific sample size.</p>


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>    COS_pos.percents<span class="sc">:</span> A string representing the COS width and target POS percentage.</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    within_COS_interval<span class="sc">:</span> The proportion of estimates within the inputted COS at the sample size single.N.</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>    POS_determined_COS<span class="sc">:</span> The COS necessary to achieve the inputted pos.percent at the sample size single.N. There is a ceiling of <span class="dv">100</span> times the magnitude of the estimate.</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>    within_POS_determined_COS<span class="sc">:</span> The proportion of estimates within the POS_determined_COS at the sample size single.N.</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    POS_determined_COS.percent<span class="sc">:</span> The percent deviation from the expected value defining POS_determined_COS.</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    sign_error_rate<span class="sc">:</span> The number of estimates signed incorrectly at the sample size single.N.</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>    power<span class="sc">:</span> The statistical power, calculated analytically, at the sample size single.N.</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>    r.x1x2.y_to_be_stable_at_single.N<span class="sc">:</span> The minimum interaction effect required <span class="cf">for</span> stability at the sample size single.N, determined via binary search.</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>    power_to_be_stable<span class="sc">:</span> The statistical power associated with the stable_effect_size at sample size single.N.</span></code></pre><p></p></div>


    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">run_pos_power_search</span><span class="op">(</span>r.x1.y <span class="op">=</span> <span class="fl">0.2</span>, r.x2.y <span class="op">=</span> <span class="fl">0.2</span>, r.x1x2.y <span class="op">=</span> <span class="fl">0.15</span>, r.x1.x2 <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>rel.x1 <span class="op">=</span> <span class="fl">0.8</span>, rel.x2 <span class="op">=</span> <span class="fl">0.8</span>,start.power <span class="op">=</span> <span class="fl">0.8</span>, step <span class="op">=</span> <span class="cn">NULL</span>, n.datasets <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>lower.bound <span class="op">=</span> <span class="cn">NULL</span>, upper.bound <span class="op">=</span> <span class="fl">500</span>, cos.width <span class="op">=</span> <span class="fl">0.5</span>, pos.percent <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The sample size at the start.power of 0.8 is 515. Re-running the search with lower.bound set to 258 and upper bound set to 515. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rel.x1 rel.x2  rel.x1x2 rel.y r.x1x2.y r.x1.y r.x2.y r.x1.x2 obs.r.x1x2.y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    0.8    0.8 0.6435644     1     0.15    0.2    0.2     0.1    0.1203337</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   COS_pos.percents     COS_interval POS_samplesize POS_power</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         (50, 80) [0.0602, 0.1805]            459 0.7529432</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by David Baranger, Andrew Castillo.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

